AC_INIT([proofagent], [0.1.0], [A.Manafov@gsi.de])

AC_CONFIG_SRCDIR([configure.in])
AM_CONFIG_HEADER(config.h)
AM_INIT_AUTOMAKE()

AC_LANG_CPLUSPLUS
AC_PROG_CXX
AM_PROG_LIBTOOL

AC_PROG_INSTALL

## -----------------------------------------------------------------------
## ----------------------------- >>> XERCESC <<<----------------------------
## -----------------------------------------------------------------------
AC_MSG_CHECKING([for xercesc location])
AC_ARG_WITH(xercesc-location,
    [ --with-xercesc-location=<dir> Default is \$XERCESC_LOCATION],
    xercesc_location="$withval",
    xercesc_location="$XERCESC_LOCATION")
if test -d "$xercesc_location" ; then
    AC_MSG_RESULT([found $xercesc_location])
    XERCESC_LOCATION=$xercesc_location
elif test -d /opt/glite/externals ; then
     AC_MSG_RESULT([found /opt/glite/externals])
     XERCESC_LOCATION=/opt/glite/externals
else
    AC_MSG_ERROR([no such directory $glite_location])
fi

LDFLAGS="$LDFLAGS -L$XERCESC_LOCATION/lib -lxerces-c"
CPPFLAGS="$CPPFLAGS -I$XERCESC_LOCATION/include"

## -----------------------------------------------------------------------
## ----------------------------- >>> BOOST <<<----------------------------
## -----------------------------------------------------------------------
AC_MSG_CHECKING([for BOOST location])
AC_ARG_WITH(boost-location,
    [ --with-boost-location=<dir> Default is \$BOOST_LOCATION],
    boost_location="$withval",
    boost_location="$BOOST_LOCATION/lib")
if test -d "$boost_location" ; then
    AC_MSG_RESULT([found $boost_location])
    $BOOSTLOCATION=$boost_location
else
    AC_MSG_ERROR([no such directory $boost_location])
fi

LDFLAGS="$LDFLAGS -L$BOOST_LOCATION/lib -lboost_thread"
CPPFLAGS="$CPPFLAGS -I$BOOST_LOCATION/include"

AC_OUTPUT(
Doxyfile
Makefile
src/Makefile)
